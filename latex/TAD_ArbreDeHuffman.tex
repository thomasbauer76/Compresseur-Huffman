\documentclass[10pt]{article}
\usepackage[utf8]{inputenc} % encodage du fichier
\usepackage[french]{babel} % document en francais
\usepackage[T1]{fontenc} % pour les caracteres accentues
\usepackage{geometry}
\geometry{a4paper, left=2.5cm, right=2.5cm, top=2.5cm, bottom=2.5cm}
\usepackage{pseudocode}
\usepackage{mdframed}

\begin{document}

\section{TAD ArbreDeHuffman}

%\begin{mdframed}
\begin{tad}
  \tadNom{ArbreDeHuffman}
  \tadDependances{\textbf{Octet}, \naturel, \booleen}
  \begin{tadOperations}{obtenirFilsGauche}
  
    \tadOperation{arbreDeHuffman}{\tadParams{\textbf{Octet},\naturel}}{ArbreDeHuffman}
    \tadOperation{fusionner}{\tadParams{ArbreDeHuffman, ArbreDeHuffman}}{ArbreDeHuffman}
    \tadOperation{estUneFeuille}{ArbreDeHuffman}{\booleen}
    \tadOperationAvecPreconditions{obtenirOctet}{ArbreDeHuffman}{\textbf{Octet}}
    \tadOperation{obtenirFrequence}{ArbreDeHuffman}{\naturel}
    \tadOperationAvecPreconditions{obtenirFilsGauche}{ArbreDeHuffman}{ArbreDeHuffman}
    \tadOperationAvecPreconditions{obtenirFilsDroit}{ArbreDeHuffman}{ArbreDeHuffman}
    \tadOperation{liberer}{ArbreDeHuffman}{}
    
  \end{tadOperations}
  \parbox{\linewidth}{\raggedright
      \begin{tadAxiomes}
            \tadAxiome{estUneFeuille(arbreDeHuffman(o,f))}
            \tadAxiome{non(estUneFeuille(fusionner(a_g,a_d)))}
            \tadAxiome{obtenirOctet(arbreDeHuffman(o,f)) = o}
            \tadAxiome{obtenirFrequence(arbreDeHuffman(o,f)) = f}
            \tadAxiome{obtenirFrequence(fusionner(a_g,a_d)) = obtenirFrequence(a_g) + obtenirFrequence(a_d)}
            \tadAxiome{obtenirFilsGauche(fusionner(a_g,a_d)) = a_g}
            \tadAxiome{obtenirFilsDroit(fusionner(a_g,a_d)) = a_d}
      \end{tadAxiomes}
  }
  
  \begin{tadPreconditions}{obtenirFilsGauche(a)}
    \tadPrecondition{obtenirOctet(a)}{estUneFeuille(a)}
    \tadPrecondition{obtenirFilsGauche(a)}{non(estUneFeuille(a))}
    \tadPrecondition{obtenirFilsDroit(a)}{non(estUneFeuille(a))}
  \end{tadPreconditions}
  
\end{tad}
%\end{mdframed}

\section{Signatures des fonctions et procédures}

\begin{algorithme}
    \signatureFonction{arbreDeHuffman}{octet : \textbf{Octet}, freq : \naturel}{\textbf{ArbreDeHuffman}}{}
    \signatureFonction{fusionner}{$a_g$, $a_d$ : \textbf{ArbreDeHuffman}}{\textbf{ArbreDeHuffman}}{}
    \signatureFonction{estUneFeuille}{arbre : \textbf{ArbreDeHuffman}}{\booleen}{}
    \signatureFonction{obtenirOctet}{arbre : \textbf{ArbreDeHuffman}}{\textbf{Octet}}{estUneFeuille(arbre)}    
    \signatureFonction{obtenirFrequence}{arbre : \textbf{ArbreDeHuffman}}{\naturel}{}
    \signatureFonction{obtenirFilsGauche}{arbre : \textbf{ArbreDeHuffman}}{\textbf{ArbreDeHuffman}}{non(estUneFeuille(arbre))}
    \signatureFonction{obtenirFilsDroit}{arbre : \textbf{ArbreDeHuffman}}{\textbf{ArbreDeHuffman}}{non(estUneFeuille(arbre))}
    \signatureFonction{liberer}{\paramEntree{arbre : \textbf{ArbreDeHuffman}}}{}
\end{algorithme}

\section{Conception détaillée}

\subsection{Type ArbreDeHuffman}

\begin{algorithme}
    \type{ArbreDeHuffman}{\motclefDereferencer Racine}
    \bigbreak
    \begin{enregistrement}{Racine}
        \champEnregistrement{octet}{\textbf{Octet}}
        \champEnregistrement{frequence}{\naturel}
        \champEnregistrement{arbreGauche}{ArbreDeHuffman}
        \champEnregistrement{arbreDroit}{ArbreDeHuffman}
    \end{enregistrement}
\end{algorithme}

\newpage
\subsection{Algorithmes des fonctions et procédures}

\begin{algorithme}
    \fonction{arbreDeHuffman}{octet : \textbf{Octet}, freq : \naturel}{\textbf{ArbreDeHuffman}}{}
    {arbre : ArbreDeHuffman}
    {
        \instruction{\allouer{arbre}}
        \affecter{arbre\motclefDereferencer .octet}{octet}
        \affecter{arbre\motclefDereferencer .frequence}{freq}
        \affecter{arbre\motclefDereferencer .arbreGauche}{\textbf{NIL}}
        \affecter{arbre\motclefDereferencer .arbreDroit}{\textbf{NIL}}
        \retourner{arbre}
    }
\end{algorithme}

\bigbreak
\begin{algorithme}
    \fonction{fusionner}{$a_g$, $a_d$ : \textbf{ArbreDeHuffman}}{\textbf{ArbreDeHuffman}}{}
    {racine : \textbf{ArbreDeHuffman}}
    {
        \instruction{\allouer{racine}}
        \affecter{racine\motclefDereferencer .arbreGauche}{$a_g$}
        \affecter{racine\motclefDereferencer .arbreDroit}{$a_d$}
        \affecter{racine\motclefDereferencer .octet}{0}
        \affecter{racine\motclefDereferencer .frequence}{\textbf{obtenirFrequence}($a_g$) + \textbf{obtenirFrequence}($a_d$)}
        \retourner{racine}
    }
\end{algorithme}

\bigbreak
\begin{algorithme}
    \fonction{estUneFeuille}{arbre : \textbf{ArbreDeHuffman}}{\booleen}{}
    {}
    {
        \retourner{arbre\motclefDereferencer .octet $\ne$ 0}
    }
\end{algorithme}

\bigbreak
\begin{algorithme}
    \fonction{obtenirOctet}{arbre : \textbf{ArbreDeHuffman}}{\textbf{Octet}}{estUneFeuille(arbre)}
    {}
    {
        \retourner{arbre\motclefDereferencer .octet}
    }
\end{algorithme}

\bigbreak
\begin{algorithme}
    \fonction{obtenirFrequence}{arbre : \textbf{ArbreDeHuffman}}{\naturel}{}
    {}
    {
        \retourner{arbre\motclefDereferencer .frequence}
    }
\end{algorithme}

\bigbreak
\begin{algorithme}
    \fonction{obtenirFilsGauche}{arbre : \textbf{ArbreDeHuffman}}{\textbf{ArbreDeHuffman}}{non(estUneFeuille(arbre))}
    {}
    {
        \retourner{arbre\motclefDereferencer .arbreGauche}
    }
\end{algorithme}

\bigbreak
\begin{algorithme}
    \fonction{obtenirFilsDroit}{arbre : \textbf{ArbreDeHuffman}}{\textbf{ArbreDeHuffman}}{non(estUneFeuille(arbre))}
    {}
    {
        \retourner{arbre\motclefDereferencer .arbreDroit}
    }
\end{algorithme}

\bigbreak
\begin{algorithme}
    \procedure{liberer}{\paramEntree{arbre : \textbf{ArbreDeHuffman}}}{}
    {}
    {
        \sialors{non(estUneFeuille(arbre))}{
            \instruction{\textbf{liberer}(arbre\motclefDereferencer .arbreGauche)}
            \instruction{\textbf{liberer}(arbre\motclefDereferencer .arbreDroit)}
        }
        \instruction{\desallouer{arbre}}
    }
\end{algorithme}





\end{document}
