\begin{algorithme}
    \procedure{compresser}{\paramEntreeSortie{f : \fichierbinaire}, \paramSortie{fCompresse : \fichierbinaire}}{}
    {s : \statistiques, taillefb : Naturel}
    {
        \sialors{estOuvert(fbInitial)}
        {
            \instruction{fermer(fbInitial)}
        }
        \instruction{ouvrir(fbInitial,lecture)}
        
        \sialors{estOuvert(fbCompresse)}
        {
            \instruction{fermer(fbCompresse)}
        }
        \instruction{ouvrir(fbCompresse, ecriture)}
        \\
        \instruction{obtenirStatistiquesEtTailleFichier(f, s, taillefb)}    
        \\
        \instruction{ecrireIdentifiant(fbCompresse)}
        \instruction{ecrireTailleFichier(fbCompresse, taillefb)}
        \sialors{taillefb > 0}
        {
            \instruction{ecrireStatistiques(fbCompresse, s)}
            \instruction{encoder(fb, obtenirTableDeCodage(construireArbreDeHuffman(s)), fCompresse)}
        }
        \instruction{fermer(fbCompresse)}
    }
\end{algorithme}